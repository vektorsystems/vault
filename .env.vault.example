# =============================================================================
# VAULT AI (OPEN WEBUI) - ENVIRONMENT VARIABLES
# =============================================================================
# These variables are specific to the Open WebUI core functionality
# =============================================================================

# =============================================================================
# BASIC CONFIGURATION
# =============================================================================

# Environment (development/production)
ENV=prod

# Data directory
DATA_DIR=data

# Frontend build directory
FRONTEND_BUILD_DIR=./build

# Docker mode
DOCKER=False

# CUDA support for embedding models
USE_CUDA_DOCKER=false

# Safe mode
SAFE_MODE=false

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database connection details
DB_HOST=localhost
DB_PORT=5432
DB_NAME=vault-ai
DB_USER=vault-ai
DB_PASSWORD=vault-ai

# Database URL (SQLite by default)
# DATABASE_URL=sqlite:///./data/webui.db
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# Database schema
DATABASE_SCHEMA=

# Database pool settings
DATABASE_POOL_SIZE=0
DATABASE_POOL_MAX_OVERFLOW=0
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Reset config on start
RESET_CONFIG_ON_START=False

# Enable realtime chat save
ENABLE_REALTIME_CHAT_SAVE=False

# =============================================================================
# OLLAMA CONFIGURATION
# =============================================================================

# Ollama base URL
OLLAMA_BASE_URL=http://localhost:11434

# Ollama model name
OLLAMA_MODEL_NAME=llama2:7b

# =============================================================================
# LOGGING
# =============================================================================

# Global log level
GLOBAL_LOG_LEVEL=INFO

# Source-specific log levels
AUDIO_LOG_LEVEL=INFO
COMFYUI_LOG_LEVEL=INFO
CONFIG_LOG_LEVEL=INFO
DB_LOG_LEVEL=INFO
IMAGES_LOG_LEVEL=INFO
MAIN_LOG_LEVEL=INFO
MODELS_LOG_LEVEL=INFO
OLLAMA_LOG_LEVEL=INFO
OPENAI_LOG_LEVEL=INFO
RAG_LOG_LEVEL=INFO
WEBHOOK_LOG_LEVEL=INFO
SOCKET_LOG_LEVEL=INFO
OAUTH_LOG_LEVEL=INFO

# =============================================================================
# WEBUI CONFIG
# =============================================================================
# WebUI name
WEBUI_NAME="Vault AI"

# Core Branding
WEBUI_DESCRIPTION="Advanced Private AI interface"
WEBUI_COMMUNITY="Vault AI Community"
ENABLE_BUILD_BRANDING=true

# Trusted signature key
TRUSTED_SIGNATURE_KEY=

# Instance ID
INSTANCE_ID=

# WebUI build hash
WEBUI_BUILD_HASH=prod-build

# Enable fetching prompts, tools and functions from the community
ENABLE_COMMUNITY_SHARING=false

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis URL
REDIS_URL=

# Redis Sentinel configuration
REDIS_SENTINEL_HOSTS=
REDIS_SENTINEL_PORT=26379

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Backend port
PORT=8080

# Web server configuration
WEBUI_HOST=0.0.0.0

# Uvicorn workers
UVICORN_WORKERS=1

# =============================================================================
# AUTHENTICATION
# =============================================================================

# Enable WebUI authentication
WEBUI_AUTH=True

# Trusted headers for authentication
WEBUI_AUTH_TRUSTED_EMAIL_HEADER=
WEBUI_AUTH_TRUSTED_NAME_HEADER=
WEBUI_AUTH_TRUSTED_GROUPS_HEADER=

# Bypass model access control
BYPASS_MODEL_ACCESS_CONTROL=False

# Signout redirect URL
WEBUI_AUTH_SIGNOUT_REDIRECT_URL=

# Secret key (auto-generated by setup script)
WEBUI_SECRET_KEY=

# Session cookie settings
WEBUI_SESSION_COOKIE_SAME_SITE=lax
WEBUI_SESSION_COOKIE_SECURE=false

# Auth cookie settings
WEBUI_AUTH_COOKIE_SAME_SITE=lax
WEBUI_AUTH_COOKIE_SECURE=false

# =============================================================================
# WEBSOCKET CONFIGURATION
# =============================================================================

# Enable WebSocket support
ENABLE_WEBSOCKET_SUPPORT=True

# WebSocket manager
WEBSOCKET_MANAGER=

# WebSocket Redis configuration
WEBSOCKET_REDIS_URL=
WEBSOCKET_REDIS_LOCK_TIMEOUT=60
WEBSOCKET_SENTINEL_HOSTS=
WEBSOCKET_SENTINEL_PORT=26379

# =============================================================================
# HTTP CLIENT CONFIGURATION
# =============================================================================

# AIOHTTP client timeout
AIOHTTP_CLIENT_TIMEOUT=

# AIOHTTP client session SSL
AIOHTTP_CLIENT_SESSION_SSL=True

# AIOHTTP client timeout for model list
AIOHTTP_CLIENT_TIMEOUT_MODEL_LIST=
AIOHTTP_CLIENT_TIMEOUT_OPENAI_MODEL_LIST=10

# AIOHTTP client timeout for tool server data
AIOHTTP_CLIENT_TIMEOUT_TOOL_SERVER_DATA=

# AIOHTTP client session tool server SSL
AIOHTTP_CLIENT_SESSION_TOOL_SERVER_SSL=True

# =============================================================================
# SENTENCE TRANSFORMERS
# =============================================================================

# Sentence transformers backend
SENTENCE_TRANSFORMERS_BACKEND=

# Sentence transformers model kwargs
SENTENCE_TRANSFORMERS_MODEL_KWARGS=

# Sentence transformers cross encoder backend
SENTENCE_TRANSFORMERS_CROSS_ENCODER_BACKEND=

# Sentence transformers cross encoder model kwargs
SENTENCE_TRANSFORMERS_CROSS_ENCODER_MODEL_KWARGS=

# =============================================================================
# OFFLINE MODE
# =============================================================================

# Enable offline mode
OFFLINE_MODE=false

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================

# Max body log size
MAX_BODY_LOG_SIZE=2048

# Enable OpenTelemetry
ENABLE_OTEL=False
ENABLE_OTEL_METRICS=False

# OpenTelemetry configuration
OTEL_EXPORTER_OTLP_ENDPOINT=
OTEL_SERVICE_NAME=open-webui
OTEL_RESOURCE_ATTRIBUTES=
OTEL_TRACES_SAMPLER=

# =============================================================================
# PWA CONFIGURATION
# =============================================================================

# External PWA manifest URL
EXTERNAL_PWA_MANIFEST_URL=

# =============================================================================
# PERSISTENT CONFIGURATION
# =============================================================================

# Enable persistent configuration
ENABLE_PERSISTENT_CONFIG=True

# =============================================================================
# API KEY CONFIGURATION
# =============================================================================

# Enable API key
ENABLE_API_KEY=True

# Enable API key endpoint restrictions
ENABLE_API_KEY_ENDPOINT_RESTRICTIONS=False

# API key allowed endpoints
API_KEY_ALLOWED_ENDPOINTS=

# JWT expires in
JWT_EXPIRES_IN=-1

# =============================================================================
# OAUTH CONFIGURATION
# =============================================================================

# Enable OAuth signup
ENABLE_OAUTH_SIGNUP=False

# OAuth merge accounts by email
OAUTH_MERGE_ACCOUNTS_BY_EMAIL=False

# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_OAUTH_SCOPE="openid email profile"
GOOGLE_REDIRECT_URI=

# Microsoft OAuth
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
MICROSOFT_CLIENT_TENANT_ID=
MICROSOFT_CLIENT_LOGIN_BASE_URL=https://login.microsoftonline.com
MICROSOFT_OAUTH_SCOPE="openid email profile"
MICROSOFT_REDIRECT_URI=

# GitHub OAuth
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_CLIENT_SCOPE=user:email
GITHUB_CLIENT_REDIRECT_URI=

# Generic OAuth/OIDC
OAUTH_CLIENT_ID=
OAUTH_CLIENT_SECRET=
OPENID_PROVIDER_URL=
OPENID_REDIRECT_URI=
OAUTH_SCOPES="openid email profile"
OAUTH_CODE_CHALLENGE_METHOD=
OAUTH_PROVIDER_NAME=SSO

# OAuth claims
OAUTH_USERNAME_CLAIM=name
OAUTH_PICTURE_CLAIM=picture
OAUTH_EMAIL_CLAIM=email
OAUTH_GROUP_CLAIM=groups
OAUTH_GROUPS_CLAIM=groups

# OAuth management
ENABLE_OAUTH_ROLE_MANAGEMENT=False
ENABLE_OAUTH_GROUP_MANAGEMENT=False
ENABLE_OAUTH_GROUP_CREATION=False

# OAuth blocked groups
OAUTH_BLOCKED_GROUPS=[]

# OAuth roles
OAUTH_ROLES_CLAIM=roles
OAUTH_ALLOWED_ROLES=user,admin
OAUTH_ADMIN_ROLES=admin

# OAuth allowed domains
OAUTH_ALLOWED_DOMAINS=*

# OAuth update picture on login
OAUTH_UPDATE_PICTURE_ON_LOGIN=False

# =============================================================================
# FORWARD USER INFO HEADERS
# =============================================================================

# Enable forward user info headers
ENABLE_FORWARD_USER_INFO_HEADERS=False

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# CORS allowed origins (semicolon-separated list)
CORS_ALLOW_ORIGIN='http://localhost:8080;'

# =============================================================================
# FRONTEND API CONFIGURATION
# =============================================================================

# API Base URL for frontend calls (leave empty for auto-detection)
# PUBLIC_API_BASE_URL=

PUBLIC_API_BASE_URL=http://localhost:8080

OPENAI_API_BASE_URL=''
OPENAI_API_KEY=''

# For production you should set this to match the proxy configuration (127.0.0.1)
# FORWARDED_ALLOW_IPS='*'

# DO NOT TRACK
SCARF_NO_ANALYTICS=true
DO_NOT_TRACK=true
ANONYMIZED_TELEMETRY=false
